---
import Layout from '../../layouts/Layout.astro'
import Banner from '../../components/Banner.astro'
import { blogs } from '../../../data/blog'

export async function getStaticPaths() {
  return blogs.map(blog => ({
    params: { slug: blog.slug }
  }))
}

const { slug } = Astro.params
const blog = blogs.find(b => b.slug === slug)

if (!blog) {
  throw new Error('Blog bulunamadÄ±')
}

const breadcrumbs = [
  { label: "Anasayfa", href: "/" },
  { label: "Bloglar", href: "/blog" },
  { label: blog.title, href: `/blog/${blog.slug}` },
]
---

<Layout>
  <div class="mt-20">
    <Banner
      title={blog.title}
      description={blog.desc}
      image="/images/page-banner.jpg"
      breadcrumbs={breadcrumbs}
    />
  </div>

  <div class="max-w-3xl mx-auto px-4 py-10">
    <article class="prose prose-lg prose-img:rounded-lg prose-a:text-red-600">
      <h1>{blog.title}</h1>
      <img src={blog.image} alt={blog.title} />
      <div set:html={blog.content} />
    </article>
  </div>
</Layout>
